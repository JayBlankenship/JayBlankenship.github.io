
<!DOCTYPE HTML>
<html>
    <head>
        <title>Directory</title>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
        <link rel="stylesheet" href="assets/css/main.css" />
        <noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
    </head>
    <body class="is-preload">

        <!-- Wrapper -->
            <div id="wrapper">

                <!-- Header -->
                    <header id="header">
                        <a href="index.html" class="logo">Jay Blankenship's Directory</a>
                    </header>

                <!-- Nav -->
                    <nav id="nav">
                        <ul class="links">
                            <li><a href="index.html">Projects</a></li>
                            <li><a href="generic.html">Education</a></li>
                            <li><a href="elements.html">Work experience</a></li>
                            <li><a href="resume.html">Resume</a></li>
                            <li class="active"><a href="Directory.html">Directory</a></li>
                        </ul>
                        <ul class="icons">
                            <li><a href="https://github.com/JayBlankenship?tab=repositories" class="icon brands fa-github"><span class="label">GitHub</span></a></li>
                            <li><a href="https://www.linkedin.com/in/jay-blankenship/" class="icon brands fa-linkedin"><span class="label">Linkedin</span></a></li>
                        </ul>
                    </nav>
					
                <!-- Main -->
                    <div id="main">
                        <section class="post">
                            <header class="major">
                                <h1>Directory</h1>
                            </header>
                            <div id="repo-grid" style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 2rem; margin-top:2em; justify-items: center; align-items: start;">
                                <!-- Repo previews will be injected here -->
                            </div>
                        </section>
                    </div>

                <!-- Footer -->
                    <footer id="footer">
                        <section class="split contact">
                            <section class="alt">
                                <h3>Address</h3>
                                <p>1128 Cary Road  <br />
                                Algonquin, IL 60102</p>
                            </section>
                            <section>
                                <h3>Phone</h3>
                                <p><a href="#">(815) 347-4790</a></p>
                            </section>
                            <section>
                                <h3>Email</h3>
                                <p><a href="#">jayblankenship@outlook.com</a></p>
                            </section>
                            <section>
                                <h3>Social</h3>
                                <ul class="icons">
                                    <li><a href="https://github.com/JayBlankenship?tab=repositories" class="icon brands fa-github"><span class="label">GitHub</span></a></li>
                                    <li><a href="https://www.linkedin.com/in/jay-blankenship/" class="icon brands fa-linkedin"><span class="label">Linkedin</span></a></li>
                                </ul>
                            </section>
                        </section>
                    </footer>

            </div>

        <!-- Scripts -->
            <script src="assets/js/jquery.min.js"></script>
            <script src="assets/js/jquery.scrollex.min.js"></script>
            <script src="assets/js/jquery.scrolly.min.js"></script>
            <script src="assets/js/browser.min.js"></script>
            <script src="assets/js/breakpoints.min.js"></script>
            <script src="assets/js/util.js"></script>
            <script src="assets/js/main.js"></script>
            <script>
            async function loadRepos() {
                const grid = document.getElementById('repo-grid');
                try {
                    const response = await fetch('https://githubprojectdirectory.netlify.app/.netlify/functions/getRepos');
                    const data = await response.json();
                    // Flatten all repos from all categories
                        const repos = [];
                    Object.values(data).forEach(arr => {
                        if (Array.isArray(arr)) {
                            arr.forEach(repo => {
                                // Show all repos (public or private) if they have html_url
                                if (repo.html_url) repos.push(repo);
                            });
                        }
                    });
                        if (repos.length === 0) {
                            grid.innerHTML = '<p>No repositories found.</p>';
                            return;
                        }
                        grid.innerHTML = repos.map(repo => `
                            <div style="border:1px solid #ccc; border-radius:8px; padding:1em; background:#222; width:100%; max-width:320px; box-sizing:border-box; text-align:center;">
                                <a href="${repo.html_url}" target="_blank" style="color:#fff; font-weight:bold; word-break:break-all;">${repo.name || repo.html_url}</a>
                            </div>
                        `).join('');
                } catch (e) {
                        grid.innerHTML = '<p>Error loading repositories.</p>';
                }
            }
            window.addEventListener('DOMContentLoaded', loadRepos);
            </script>

    </body>
</html>
                        <section class="split contact">
                            <section class="alt">
                                <h3>Address</h3>
                                <p>1128 Cary Road  <br />
                                Algonquin, IL 60102</p>
                            </section>
                            <section>
                                <h3>Phone</h3>
                                <p><a href="#">(815) 347-4790</a></p>
                            </section>
                            <section>
                                <h3>Email</h3>
                                <p><a href="#">jayblankenship@outlook.com</a></p>
                            </section>
                            <section>
                                <h3>Social</h3>
                                <ul class="icons">
                                    <li><a href="https://github.com/JayBlankenship?tab=repositories" class="icon brands fa-github"><span class="label">GitHub</span></a></li>
                                    <li><a href="https://www.linkedin.com/in/jay-blankenship/" class="icon brands fa-linkedin"><span class="label">Linkedin</span></a></li>
                                </ul>
                            </section>
                        </section>
                    </footer>

            </div>

        <!-- Scripts -->
            <script src="assets/js/jquery.min.js"></script>
            <script src="assets/js/jquery.scrollex.min.js"></script>
            <script src="assets/js/jquery.scrolly.min.js"></script>
            <script src="assets/js/browser.min.js"></script>
            <script src="assets/js/breakpoints.min.js"></script>
            <script src="assets/js/util.js"></script>
            <script src="assets/js/main.js"></script>

    </body>
</html>
            </footer>
        </div>
        <script src="assets/js/main.js"></script>
    </body>
</html>
