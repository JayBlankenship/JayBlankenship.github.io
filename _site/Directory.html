
<!DOCTYPE HTML>
<html>
    <head>
    <title>Directory</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <link rel="stylesheet" href="assets/css/fontawesome-all.min.css" />
    <link rel="stylesheet" href="assets/css/main.css" />
    <noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
    </head>
    <body class="is-preload">

        <!-- Wrapper -->
            <div id="wrapper">

                <!-- Header -->
                    <header id="header">
                        <a href="index.html" class="logo">Jay Blankenship's Directory</a>
                    </header>

                <!-- Nav -->
                    <nav id="nav">
                        <ul class="links">
                            <li><a href="index.html">Projects</a></li>
                            <li><a href="generic.html">Education</a></li>
                            <li><a href="elements.html">Work experience</a></li>
                            <li><a href="resume.html">Resume</a></li>
                            <li class="active"><a href="Directory.html">Directory</a></li>
                        </ul>
                        <ul class="icons">
                            <li><a href="https://github.com/JayBlankenship?tab=repositories" class="icon brands fa-github"><span class="label">GitHub</span></a></li>
                            <li><a href="https://www.linkedin.com/in/jay-blankenship/" class="icon brands fa-linkedin"><span class="label">Linkedin</span></a></li>
                        </ul>
                    </nav>
					
                <!-- Main -->
                    <div id="main">
                        <section class="post">
                            <header class="major">
                                <h1>Directory</h1>
                            </header>
                            <div id="repo-grid" style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 2rem; margin-top:2em; justify-items: center; align-items: start;">
                                <!-- Repo previews will be injected here -->
                            </div>
                        </section>
                    </div>

                <!-- Footer -->
                    <footer id="footer">
                        <section class="split contact">
                            <section class="alt">
                                <h3>Address</h3>
                                <p>1128 Cary Road  <br />
                                Algonquin, IL 60102</p>
                            </section>
                            <section>
                                <h3>Phone</h3>
                                <p><a href="#">(815) 347-4790</a></p>
                            </section>
                            <section>
                                <h3>Email</h3>
                                <p><a href="#">jayblankenship@outlook.com</a></p>
                            </section>
                            <section>
                                <h3>Social</h3>
                                <ul class="icons">
                                    <li><a href="https://github.com/JayBlankenship?tab=repositories" class="icon brands fa-github"><span class="label">GitHub</span></a></li>
                                    <li><a href="https://www.linkedin.com/in/jay-blankenship/" class="icon brands fa-linkedin"><span class="label">Linkedin</span></a></li>
                                </ul>
                            </section>
                        
<script async src="https://www.googletagmanager.com/gtag/js?id=G-43HYJF8K5C"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-43HYJF8K5C');
</script>

                        <!-- Google tag (gtag.js) template -->
                        <script async src="https://www.googletagmanager.com/gtag/js?id=GOOGLE_ANALYTICS_ID"></script>
                        <script>
                            window.dataLayer = window.dataLayer || [];
                            function gtag(){dataLayer.push(arguments);}
                            gtag('js', new Date());
                            gtag('config', 'GOOGLE_ANALYTICS_ID');
                        </script>
            <script src="assets/js/jquery.min.js"></script>
            <script src="assets/js/jquery.scrollex.min.js"></script>
            <script src="assets/js/jquery.scrolly.min.js"></script>
            <script src="assets/js/browser.min.js"></script>
            <script src="assets/js/breakpoints.min.js"></script>
            <script src="assets/js/util.js"></script>
            <script src="assets/js/main.js"></script>
            <script>
            async function loadRepos() {
                const grid = document.getElementById('repo-grid');
                try {
                    const response = await fetch('https://githubprojectdirectory.netlify.app/.netlify/functions/getRepos');
                    const data = await response.json();
                    // Flatten all repos from all categories
                        const repos = [];
                    Object.values(data).forEach(arr => {
                        if (Array.isArray(arr)) {
                            arr.forEach(repo => {
                                // Show all repos (public or private) if they have html_url
                                if (repo.homepage) repos.push(repo);
                            });
                        }
                    });
                        if (repos.length === 0) {
                            grid.innerHTML = '<p>No repositories found.</p>';
                            return;
                        }
                        grid.innerHTML = repos.map(repo => `
                            <div style="border:1px solid #444; border-radius:16px; background:#222; width:100%; max-width:340px; min-height:180px; height:100%; display:flex; flex-direction:column; justify-content:center; align-items:center; box-sizing:border-box; margin:0 auto; overflow:hidden;">
                                <a href="${repo.homepage}" target="_blank" style="color:#fff; font-weight:bold; word-break:break-word; font-size:1.25em; margin-bottom:0.75em; text-align:center; max-width:90%;">${repo.name || repo.homepage}</a>
                                <div style="color:#bbb; font-size:1em; text-align:center; margin-top:0.5em; padding:0 1em; word-break:break-word; max-width:90%; white-space:pre-line;">${repo.description ? repo.description : ""}</div>
                            </div>
                        `).join('');
                        grid.style.gridTemplateColumns = 'repeat(3, 1fr)';
                } catch (e) {
                        grid.innerHTML = '<p>Error loading repositories.</p>';
                }
            }
            window.addEventListener('DOMContentLoaded', loadRepos);
            </script>


</body>
</html>
